<!--
    Copyright (C) 2016 Sopra Steria Group (movalys.support@soprasteria.com)

    This file is part of Movalys MDK.
    Movalys MDK is free software: you can redistribute it and/or modify
    it under the terms of the GNU Lesser General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.
    Movalys MDK is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
    GNU Lesser General Public License for more details.
    You should have received a copy of the GNU Lesser General Public License
    along with Movalys MDK. If not, see <http://www.gnu.org/licenses/>.
-->
<div class="photo-style form-without-label {{::mfCssClassContainer}}"
     ng-disabled="!actions.isInEditionMode() || mfReadonly">
    <ng-form name="form">
        <div class="media offset-no-label" id="{{mfId}}">
            <mf-textfield
                    mf-field="mfField.name"
                    mf-label="field.mfphoto.name.label"
                    mf-readonly="mfReadonly"
                    mf-required="mfRequired"
                    mf-placeholder="{{mfNamePlaceholder}}"
                    mf-css-class-container="media-heading"
                    ></mf-textfield>
            <mf-date-time
                    mf-field="mfField.date"
                    mf-label="field.mfphoto.date.label"
                    mf-required="mfRequired"
                    mf-readonly="mfReadonly"
                    ></mf-date-time>
            <mf-multilinefield
                    mf-field="mfField.desc"
                    mf-label="field.mfphoto.desc.label"
                    mf-placeholder="{{mfDescriptionPlaceholder}}"
                    mf-readonly="mfReadonly"
                    ></mf-multilinefield>

            <mf-minimized-location
                    mf-required="false"
                    mf-readonly="mfReadonly"
                    mf-label='field.mfphoto.location.label'
                    mf-field="mfField.photoLocation">
            </mf-minimized-location>
            <div class="form-group">
                <img mdk-photo-img ng-src="{{mfField.uri}}" width="{{mfThumbnailWidth}}" height="{{mfThumbnailHeight}}" alt="no-photo" class="media-object mdk-img-thumbnail"/>
                <input mf-photo-input-update type="file" accept="image/*" capture="camera" name="input"
                       class="form-control"
                       id="{{mfIdInput}}" style="display: none;"/>
            </div>
        </div>
    </ng-form>
</div>
